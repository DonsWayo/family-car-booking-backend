openapi: 3.0.3
info:
  title: Family Car Tracker - OpenAPI 3.0
  description: |-
    This is a sample family car tracking application allowing us to book car usage times.
    
    Since I'm are using cookie auth on this Family Car project, the Try It Out feature won't work in browsers due to security limitations. Please use Postman to try these requests
  contact:
    email: kushliansky@gmail.com
  license:
    name: Apache 2.0
    url: http://www.apache.org/licenses/LICENSE-2.0.html
  version: 1.0.0
servers:
  - url: https://18qv4o7xm9.execute-api.eu-west-1.amazonaws.com
paths:
  /login:
    post:
      summary: Login with your credentials
      description: You must provide a cookie called `sessionId` with a value that corresponds to your user in the database. We assume that the user is already registered, so you should find it in the DynamoDB database. When calling this endpoint for the first time, you should not supply any auth cookie (`sessionId`). But for subsequent calls, please ensure you attach the `sessionId` cookie returned from previous `/login` calls. Ask backend team for any support.
      parameters:
        - in: cookie
          name: sessionId
          description: Cookie that should go with your user's login request. This sessionId cookie value is located in DynamoDB database, assuming your user was already registered
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                username:
                  type: string
                  example: masha
                password:
                  type: string
                  example: myPassW0rd
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                type: object
                properties:
                  username:
                    type: string
                    example: masha
                  password:
                    type: string
                    example: myPassW0rd
        '401':
          description: Unauthorized. Invalid credentials presented or cookie was not included in the request or cookie is incorrect.
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: 'Invalid credentials provided'

  /user/{username}:
    get:
      summary: Get user info
      description: Information about the user, their rides, cars etc.
      parameters:
        - in: path
          name: username
          description: User's name as it appears in the DynamoDB database
          schema:
            type: string
          required: true
        - in: cookie
          name: sessionId
          description: Cookie that should go with your user's request. This `sessionId` cookie value is located in DynamoDB database, assuming your user was already registered
          schema:
            type: string
      responses:
        '200':
          description: Successful operation
          content:
            application/json:
              schema:
                type: object
                properties:
                  username:
                    type: string
                    example: masha
                  password:
                    type: string
                    example: myPassW0rd
        '401':
          description: Unauthorized. Invalid credentials presented or cookie was not included in the request or cookie is incorrect.
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: 'Invalid credentials provided'

